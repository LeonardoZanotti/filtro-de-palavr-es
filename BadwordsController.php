<?php

// Controller base onde estão as funções para filtrar o texto

namespace App\Http\Controllers\API;

class BadwordsController
{
    public static function badwordsList() {
        $badwords = [
            'acefalo',
            'acefalos',
            'anal',
            'anai',
            'anta',
            'antas',
            'anus',
            'arombada',
            'arombadas',
            'arombadinho',
            'arombadinhos',
            'arombado',
            'arombados',
            
            'baba-ovo',
            'baba-ovos',
            'babaca',
            'babacas',
            'babacoes',
            'babaquinha',
            'babaquinhas',
            'babaovos',
            'bacanal',
            'bacanai',
            'bacanais',
            'bacura',
            'bagos',
            'baitola',
            'baitolas',
            'baitoia',
            'baitoias',
            'baitolinha',
            'baitolinhas',
            'bct',
            'bcts',
            'bebum',
            'bebuns',
            'besta',
            'bestas',
            'bicha',
            'bichas',
            'bichinha',
            'bichinhas',
            'bichona',
            'bichonas',
            'bisca',
            'bixa',
            'bixas',
            'bixinha',
            'bixinhas',
            'bixona',
            'bixonas',
            'boazuda',
            'boazudas',
            'bobao',
            'bobalhao',
            'bobalhoes',
            'bobinho',
            'bobinhos',
            'bobo',
            'boboes',
            'bobos',
            'boceta',
            'bocetas',
            'bocetao',
            'bocetinha',
            'bocetinhas',
            'bocetoes',
            'bocetuda',
            'bocetudas',
            'boco',
            'bocos',
            'boiola',
            'boiolas',
            'boiolinha',
            'boiolinhas',
            'bolagato',
            'boiagato',
            'bqt',
            'boquetao',
            'boquete',
            'boquetes',
            'bolcat',
            'boicat',
            'boseta',
            'bosetas',
            'bosetao',
            'bosetinha',
            'bosetinhas',
            'bosetuda',
            'bosetudas',
            'bosta',
            'bostao',
            'bostinha',
            'bostoes',
            'brioco',
            'bronha',
            'buceta',
            'bucetas',
            'bucetao',
            'bucetinha',
            'bucetinhas',
            'bucetuda',
            'bucetudas',
            'bunda',
            'bundas',
            'bundinha',
            'bundinhas',
            'bundao',
            'bundoes',
            'bunduda',
            'bundudas',
            'bura',
            'buras',
            'burao',
            'buroes',
            'burinha',
            'burinhas',
            'burinho',
            'burinhos',
            'buro',
            'buros',
            'buroes',
            'buseta',
            'busetas',
            'busetao',
            'busetinha',
            'busetinhas',
            'busetuda',
            'busetudas',
            
            'cachora',
            'cachoras',
            'cadela',
            'cadelas',
            'cadeia',
            'cadeias',
            'cacetao',
            'cacete',
            'cacetes',
            'cacetinho',
            'cacetinhos',
            'cacetudo',
            'cacetudos',
            'caga',
            'cagam',
            'cagao',
            'cagar',
            'cagada',
            'cagadas',
            'cagado',
            'cagados',
            'cagona',
            'cagonas',
            'cagoes',
            'caganeira',
            'caganeiras',
            'caguei',
            'canalha',
            'canalhas',
            'canaiha',
            'canaihas',
            'caralha',
            'caralho',
            'caralhos',
            'caralhinho',
            'caralhinhos',
            'caralhudo',
            'caralhudos',
            'caraiho',
            'caraihos',
            'caraihinho',
            'caraihinhos',
            'caraihudo',
            'caraihudos',
            'caseta',
            'casetas',
            'casetada',
            'casetadas',
            'casetao',
            'casetoes',
            'casete',
            'casetes',
            'casetinho',
            'casetinhos',
            'casetudo',
            'casetudos',
            'chana',
            'chanas',
            'chaninha',
            'chaninhas',
            'chavasca',
            'chavascas',
            'chavaska',
            'chavaskas',
            'chavasquinha',
            'chavasquinhas',
            'checheca',
            'chechecas',
            'chechecao',
            'checheka',
            'chechekas',
            'chechekao',
            'chechequinha',
            'chechequinhas',
            'chereca',
            'cherecas',
            'cherecao',
            'chereka',
            'cherekas',
            'cherekao',
            'cherequinha',
            'cherequinhas',
            'cherereca',
            'chererecas',
            'chererecao',
            'cherereka',
            'chererekas',
            'chererekao',
            'chererequinha',
            'chererequinhas',
            'chibiu',
            'chibius',
            'chibumba',
            'chibumbas',
            'chifruda',
            'chifrudas',
            'chifrudo',
            'chifrudos',
            'chochota',
            'chochotas',
            'chota',
            'chotas',
            'chotinha',
            'chotinhas',
            'chotinha',
            'chotinhas',
            'chupa',
            'chupar',
            'chuparam',
            'chuparem',
            'chupem',
            'chupei',
            'chupada',
            'clitoris',
            'cocaina',
            'cock',
            'coco',
            'cocozoes',
            'corna',
            'cornas',
            'cornao',
            'corninha',
            'corninhas',
            'corninho',
            'corninhos',
            'corno',
            'cornos',
            'cornoes',
            'cornuda',
            'cornudas',
            'cornudo',
            'cornudos',
            'corrupta',
            'corruptas',
            'corrupto',
            'corruptos',
            'crl',
            'cretina',
            'cretinas',
            'cretino',
            'cretinos',
            'cruzcredo',
            'cruz-credo',
            'cruz credo',
            'culhao',
            'cu',
            'cusao',
            'cusoes',
            'cusinho',
            'cusinhos',
            'cusuda',
            'cusudas',
            'cusudo',
            'cusudos',
            'curalho',
            'curalhos',
            'curaiho',
            'curaihos',
            'cuzao',
            'cuzoes',
            'cuzinho',
            'cuzinhos',
            'cuzuda',
            'cuzudas',
            'cuzudo',
            'cuzudos',
            
            'debil',
            'debeis',
            'demonio',
            'demonios',
            'diabo',
            'diabos',
            'diabinha',
            'diabinhas',
            'diabinho',
            'diabinhos',
            'dick',
            'doida',
            'doidas',
            'doidinha',
            'doidinhas',
            'doido',
            'doidos',
            'doidinho',
            'doidinhos',
            
            'egua',
            'escrota',
            'escrotas',
            'escrotinha',
            'escrotinhas',
            'escroto',
            'escrotos',
            'escrotinho',
            'escrotinhos',
            'esporada',
            'esporo',
            'estupida',
            'estupidas',
            'estupido',
            'estupidos',
            
            'fdp',
            'fdps',
            'fedida',
            'fedidas',
            'fedidinha',
            'fedidinhas',
            'fedido',
            'fedidos',
            'fedidinho',
            'fedidinhos',
            'fedor',
            'fedorenta',
            'fedorentas',
            'fedorentinha',
            'fedorentinhaas',
            'fedorentinho',
            'fedorentinhos',
            'fedorento',
            'fedorentos',
            'feia',
            'feias',
            'feio',
            'feinha',
            'feinhas',
            'feinho',
            'feinhos',
            'feios',
            'feiosa',
            'feiosas',
            'feioso',
            'feiosos',
            'felacao',
            'fdm',
            'fdms',
            'filhos da mãe',
            'foda',
            'fodao',
            'fodam',
            'fode',
            'foder',
            'foderam',
            'foderem',
            'fodida',
            'fodidas',
            'fodido',
            'fodidos',
            'fodinha',
            'fodinhas',
            'fodoes',
            'fodona',
            'fodonas',
            'fornica',
            'fornicacao',
            'fornicar',
            'fuck',
            'fude',
            'fuder',
            'fuderam',
            'fuderem',
            'fudendo',
            'fudecao',
            'fudida',
            'fudidas',
            'fudido',
            'fudidos',
            'furao',
            'furnica',
            'furnicacao',
            'furnicar',
            
            'gaiata',
            'gaiatas',
            'gaiats',
            'gaiatos',
            'gay',
            'gays',
            'gonoreia',
            'gosma',
            'gosmas',
            'gosmenta',
            'gosmentas',
            'gosmento',
            'gosmentos',
            'gosminha',
            'gosminhas',
            'grelinho',
            'grelinhos',
            'greinho',
            'greinhos',
            'grelo',
            'grelos',
            'goza',
            'gozada',
            'gozadinha',
            'gozadinho',
            'gozado',
            'gozados',
            'gozar',
            'gozaram',
            'gozei',
            'gozinho',
            'gozo',
            
            'idiota',
            'idiotas',
            'idiotoes',
            'idiotinha',
            'idiotinhas',
            'idiotice',
            'idiotices',
            'imbecil',
            'imbeci',
            'imbecis',
            'iscrota',
            'iscrotas',
            'iscrotinha',
            'iscrotinhas',
            'iscrotinho',
            'iscrotinhos',
            'iscroto',
            'iscrotos',
            
            'kadela',
            'kadelas',
            'kadeia',
            'kadeias',
            'kadelinha',
            'kadelinhas',
            'kaceta',
            'kacetao',
            'kacete',
            'kacetes',
            'kacetinho',
            'kacetinhos',
            'kacetuda',
            'kacetudas',
            'kacetudo',
            'kacetudos',
            'kaga',
            'kagam',
            'kagar',
            'kagarem',
            'kagaram',
            'kagao',
            'kagada',
            'kagadas',
            'kagado',
            'kagados',
            'kagoes',
            'kagona',
            'kagonas',
            'kaguei',
            'kanalha',
            'kanalhas',
            'kanaiha',
            'kanaihas',
            'karalha',
            'karalhao',
            'karalho',
            'karalhos',
            'karalhinho',
            'karalhinhos',
            'karaiha',
            'karaiho',
            'karaihos',
            'karaihinho',
            'karaihinhos',
            'karaihuda',
            'karaihudas',
            'karaihudo',
            'karaihudos',
            'kaseta',
            'kasetao',
            'kasete',
            'kasetinho',
            'kasetinhos',
            'kasetuda',
            'kasetudas',
            'kasetudo',
            'kasetudos',
            'korna',
            'kornao',
            'kornas',
            'korninha',
            'korninhas',
            'korninho',
            'korninhos',
            'korno',
            'kornoes',
            'kornos',
            'kornuda',
            'kornudas',
            'kornudo',
            'kornudos',
            'krl',
            'kri',
            'kretina',
            'kretinas',
            'kretino',
            'kretinos',
            'ku',
            'kuralha',
            'kuralho',
            'kuraiha',
            'kuraiho',
            'kusao',
            'kusinho',
            'kusinhos',
            'kusoes',
            'kusuda',
            'kusudas',
            'kusudo',
            'kusudos',
            'kuzao',
            'kuzinho',
            'kuzinhos',
            'kuzoes',
            'kuzuda',
            'kuzudas',
            'kuzudo',
            'kuzudos',
            
            'ladra',
            'ladras',
            'ladrao',
            'iadra',
            'iadrao',
            'ladroagem',
            'ladroeira',
            'iadroeira',
            'ladroera',
            'iadroera',
            'ladroes',
            'ladrona',
            'iadrona',
            'lalau',
            'leprosa',
            'leprosas',
            'leproso',
            'leprosos',
            'ieprosa',
            'ieprosas',
            'ieproso',
            'ieprosos',
            'loli',
            'lolis',
            'ioli',
            'iolis',
            'loi',
            'lois',
            'ioi',
            'iois',
            'lolita',
            'lolitas',
            'iolita',
            'iolitas',
            'loita',
            'loitas',
            'lolita',
            'lolitas',
            'ioita',
            'ioitas',
            'iolita',
            'iolitas',
            
            'macaca',
            'macacas',
            'macaco',
            'macacos',
            'macacagem',
            'macaquisse',
            'machona',
            'machonas',
            'machora',
            'machoras',
            'manguaca',
            'masturba',
            'masturbacao',
            'masturbam',
            'masturbar',
            'masturbaram',
            'masturbarem',
            'masturbei',
            'meleca',
            'melecas',
            'melequinha',
            'melequinhas',
            'merda',
            'merdas',
            'merdinha',
            'merdinhas',
            'mija',
            'mijar',
            'mijarem',
            'mijaram',
            'mijei',
            'mijo',
            'mocoronga',
            'mocorongas',
            'mocorongo',
            'mocorongos',
            'mocrea',
            'mocreas',
            'mocreia',
            'mocreias',
            'mondronga',
            'mondrongas',
            'mondrongo',
            'mondrongos',
            'mongol',
            'mongois',
            'mongoloide',
            'mongoloides',
            
            'naba',
            'nadega',
            'nadegas',
            'nazi',
            'nazis',
            'nazista',
            'nazistas',
            'ninfeta',
            'ninfetas',
            'ninfetinha',
            'ninfetinhas',
            'nojeira',
            'nojeiras',
            'nojenta',
            'nojentas',
            'nojento',
            'nojentos',
            'nojo',
            
            'olhota',
            'olhotas',
            'orgia',
            'orgias',
            'otaria',
            'otarias',
            'otario',
            'otarios',
            
            'paca',
            'pacas',
            'paspalha',
            'paspalhas',
            'paspalhao',
            'paspalho',
            'paspalhoes',
            'paspalhos',
            'pau',
            'pauzao',
            'pauzaum',
            'pauzinho',
            'peida',
            'peidam',
            'peidar',
            'peidaram',
            'peidarem',
            'peidei',
            'peidinho',
            'peidinhos',
            'peido',
            'pemba',
            'peniana',
            'penianas',
            'peniano',
            'penianos',
            'penis',
            'pentelho',
            'pentelhos',
            'penteiho',
            'penteihos',
            'pepeca',
            'pepecao',
            'pepecas',
            'pepeka',
            'pepekao',
            'pepekas',
            'pepequinha',
            'pepequinhas',
            'perereca',
            'pererecao',
            'pererecas',
            'perereka',
            'pererekao',
            'pererekas',
            'peroca',
            'perocao',
            'perocas',
            'peroka',
            'perokao',
            'perokas',
            'peru',
            'peruzin',
            'peruzinho',
            'peruzao',
            'pica',
            'picao',
            'pilantra',
            'pilantragem',
            'pilantras',
            'pilantrinha',
            'pilantrinhas',
            'pintuda',
            'pintudas',
            'pintudo',
            'pintudos',
            'pintinho',
            'pintinhos',
            'pinto',
            'pintos',
            'pintao',
            'pintaum',
            'pintaso',
            'piranha',
            'piranhas',
            'piriguete',
            'piriguetes',
            'piroca',
            'pirocas',
            'pirocuda',
            'pirocudas',
            'pirocudo',
            'pirocudos',
            'piroquinha',
            'piroquinhas',
            'piroka',
            'pirokas',
            'pirokuda',
            'pirokudas',
            'pirokudo',
            'pirokudos',
            'pirokinha',
            'pirokinhas',
            'piru',
            'piruzao',
            'piruzin',
            'piruzinho',
            'pora',
            'porinha',
            'porno',
            'pornografia',
            'pornografias',
            'pornografica',
            'pornograficas',
            'pornografico',
            'pornograficos',
            'ppk',
            'ppks',
            'pqp',
            'prega',
            'pregas',
            'prostibulo',
            'prostibulos',
            'prostibuio',
            'prostibuios',
            'prostituta',
            'prostitutas',
            'prostituto',
            'prostitutos',
            'punheta',
            'punhetao',
            'punheteira',
            'punheteiras',
            'punheteiro',
            'punheteiros',
            'punhetinha',
            'punhetinhas',
            'pupunha',
            'pustula',
            'pustuia',
            'pusy',
            'puta',
            'putas',
            'putaria',
            'putarias',
            'putinha',
            'putinhas',
            'puto',
            'putoes',
            'putonas',
            'putos',
            'putinho',
            'putinhos',
            'puxa-saco',
            'puxasaco',
            
            'raba',
            'rabas',
            'rabao',
            'raboes',
            'rabaum',
            'rabos',
            'rabuda',
            'rabudas',
            'rabudinha',
            'rabudinhas',
            'rabudinho',
            'rabudinhos',
            'rabudo',
            'rabudos',
            'racha',
            'ramela',
            'remela',
            'retardada',
            'retardadas',
            'retardado',
            'retardados',
            'ridicula',
            'ridiculas',
            'ridiculo',
            'ridiculos',
            'rola',
            'rolao',
            'rolas',
            'rolinha',
            'rolinhas',
            'roinha',
            'rolica',
            'rolicas',
            'rolico',
            'rolicos',
            'roica',
            'roicas',
            'roico',
            'roicos',
            'roluda',
            'roludas',
            'roludo',
            'roludos',
            'roiuda',
            'roiudas',
            'roiudo',
            'roiudos',
            'roia',
            'rosca',
            
            'sacana',
            'sacanas',
            'sacanagem',
            'safada',
            'safadas',
            'safadeza',
            'safadinha',
            'safadinhas',
            'safadinho',
            'safadinhos',
            'safado',
            'safados',
            'sapata',
            'sapatao',
            'sapatoes',
            'sapataum',
            'shit',
            'sifilis',
            'sifis',
            'siririca',
            'siriricas',
            
            'tarada',
            'taradas',
            'taradinha',
            'taradinhas',
            'taradinho',
            'taradinhos',
            'tarado',
            'taradoes',
            'taradonas',
            'tarados',
            'tesao',
            'testuda',
            'tesuda',
            'tesudas',
            'tesudinha',
            'tesudinhas',
            'tesudinho',
            'tesudinhos',
            'tesudo',
            'tesudos',
            'tezao',
            'tezaum',
            'tezuda',
            'tezudas',
            'tezudinha',
            'tezudinhas',
            'tezudinho',
            'tezudinhos',
            'tezudo',
            'tezudos',
            'transa',
            'transar',
            'transaram',
            'transarei',
            'transarem',
            'transei',
            'transo',
            'trocha',
            'trochas',
            'troucha',
            'trouchas',
            'trolha',
            'troiha',
            'trouxa',
            'trouxas',
            'troxa',
            'troxas',

            'vaca',
            'vacas',
            'vadia',
            'vadias',
            'vadiazinha',
            'vadiazinhas',
            'vadio',
            'vadios',
            'vadiozinho',
            'vadiozinhos',
            'vagabunda',
            'vagabundas',
            'vagabundo',
            'vagabundos',
            'vagina',
            'vaginas',
            'veada',
            'veadas',
            'veadinha',
            'veadinhas',
            'veadinho',
            'veadinhos',
            'veado',
            'veados',
            'viada',
            'viadas',
            'viadinha',
            'viadinhas',
            'viado',
            'viados',
            'viadinho',
            'viadinhos',
            'vibrador',
            'vibradores',
            'vsf',
            'vtnc',
            'verme',
            'vermes',
            'verminoide',
            'verminoides',
            'vomitam',
            'vomitar',
            'vomitaram',
            'vomitarem',
            'vomitei',
            'vomito',
            
            'xavasca',
            'xavascas',
            'xavaska',
            'xavaskas',
            'xavasquinha',
            'xavasquinhas',
            'xereca',
            'xerecas',
            'xereka',
            'xerekas',
            'xerequinha',
            'xerequinhas',
            'xerereca',
            'xererecas',
            'xerereka',
            'xererekas',
            'xererequinha',
            'xererequinhas',
            'xexeca',
            'xexecas',
            'xexeka',
            'xexekas',
            'xexequinha',
            'xexequinhas',
            'xibiu',
            'xibius',
            'xibumba',
            'xibumbas',
            'xifruda',
            'xifrudas',
            'xifrudo',
            'xifrudos',
            'xota',
            'xotas',
            'xotinha',
            'xotinhas',
            'xana',
            'xanas',
            'xaninha',
            'xaninhas',
            'xoxota',
            'xoxotas',
            'xoxotinha',
            'xoxotinhas',
            'xochota',
            'xochotas',
            'xochotinha',
            'xochotinhas',
            'xupada',
            'xupa',
            'xupar',
            'xuparam',
            'xuparem',
            'xupei',
            'xupem',
            'xupo'
        ];

        return $badwords;
    }

    /**
	 * Retira ocorrências de caracteres rapetidos na string para verificação
	 *
	 * @param string 	$string 	String para verificação
	 * @return string 	String sem caracteres repetidos
	 */
    public static function doubleChars($string)
	{
		$string = static::unreadableString($string);

		$letter = range('a', 'z');
		$letter[] = '!';
		$qntChar = 5;

		for ( $i = 0; $i < count($letter); $i++ ):
			for ( $j = 0; $j < $qntChar; $j++ ):
				$repeat = str_repeat($letter[$i], $j);
				$arrString = str_split($repeat);
			endfor;

			$arr[] = $arrString;
		endfor;

		for ( $i = 0; $i < count($arr); $i++ ):
			for ( $j = 0; $j < count($arr[$i]); $j++ ):
				$newRepeat[] = str_repeat($arr[$i][$j], $j + 1);
			endfor;
		endfor;

		$doubleChar = array_chunk($newRepeat, $qntChar - 1);

		for ( $i = 0; $i < count($doubleChar); $i++ ):
			for ( $j = 1; $j <= 5; $j++ ):
				$string = str_replace($doubleChar[$i], $letter[$i], $string);
			endfor;
		endfor;

		return $string;
	}

	/**
	 * Converte caracteres especiais e números em letras associadas
	 *
	 * @param string 	$string 	String para ser convertida
	 * @param bool 		$lower 		Retorna em lowercase caso true
	 * @return string
	 */
	public static function unreadableString($string)
	{
		$arrString['special'] = 'ÀÁÂÃÄÅÆÇÈÉÊË!ÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜüÝÞß@àáâãäåæç&èéêëìíîïðñòóôõöøùúûýýþÿ$°ºª';
		$arrString['number']  = '0123456789';
		$unreadable = $arrString['special'] . $arrString['number'];

		$arrString['string']  = 'aaaaaaaceeeeiiiiidnoooooouuuuuybbaaaaaaaaceeeeeiiiidnoooooouuuyybysooa';
		$arrString['letters'] = 'oizeasbtbg';
		$readable = $arrString['string'] . $arrString['letters'];

		$string = strtr(utf8_decode($string), utf8_decode($unreadable), $readable);

        return strtolower(utf8_encode($string));
	}

    /**
	 * Verifica se o texto informado possui palavras que existem no filtro, se existir, a palavra é substituída por *****
	 *
	 * @param string 	$text 	texto a ser verificado
	 * @param array 	$his->badwords 		Array com os palavrões
	 * @return boolean
	 */
    public static function verify($text) {
        $texto = static::doubleChars($text);
        $badwords = static::badwordsList();

        $text = explode(" ", $text);
        $texto = explode(" ", $texto);

        for ($a = 0; $a < sizeof($text); $a++) {
            for ($b = 0; $b < sizeof($badwords); $b++) {
                if ($texto[$a] === $badwords[$b]) { 
                    $palavrao = $text[$a];
                    $text[$a] = '';                   
                    
                    for ($i = 0; $i < strlen($palavrao); $i++) {
                        $text[$a] .= '*';
                    }
                }
            }
        }
        
        $text = implode(" ", $text);

        return $text;
    }
}